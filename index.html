<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>자석 철가루 시뮬레이션 | Magnetic Field Simulator</title>
    <meta name="description" content="3D 자석-철가루 상호작용 시뮬레이션 웹 애플리케이션">
    <link rel="stylesheet" href="src/styles/main.css">
</head>
<body>
    <div id="app">
        <!-- 상단 제목 바 -->
        <header class="header">
            <h1>자석 철가루 시뮬레이션</h1>
            <p>마우스로 철가루를 뿌리고 자석을 드래그해보세요!</p>
        </header>

        <!-- 3D 렌더링 영역 -->
        <div id="scene-container">
            <canvas id="threejs-canvas"></canvas>

            <!-- 로딩 화면 -->
            <div id="loading" class="loading">
                <div class="loading-spinner"></div>
                <p>시뮬레이션 로딩 중...</p>
            </div>
        </div>

        <!-- 컨트롤 패널 -->
        <div id="controls-panel" class="controls-panel">
            <div class="control-group">
                <label for="magnet-strength">자석 세기</label>
                <input type="range" id="magnet-strength" min="0.1" max="2.0" step="0.1" value="1.0">
                <span id="strength-value">1.0</span>
            </div>

            <div class="control-group">
                <button id="reset-btn" class="btn btn-secondary">리셋</button>
                <button id="clear-particles-btn" class="btn btn-secondary">철가루 제거</button>
            </div>

            <div class="control-group">
                <label>사용 방법:</label>
                <ul class="instructions">
                    <li>마우스 클릭: 철가루 뿌리기</li>
                    <li>드래그: 자석 이동</li>
                    <li>휠: 확대/축소</li>
                    <li>우클릭 드래그: 시점 회전</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Three.js 라이브러리 (확실한 버전) -->
    <script src="https://unpkg.com/three@0.140.0/build/three.min.js"></script>
    <script>
        // THREE가 로드되었는지 확인
        console.log('THREE loaded:', typeof THREE !== 'undefined');
        if (typeof THREE === 'undefined') {
            console.error('THREE.js failed to load!');
        }
    </script>
    <script src="https://unpkg.com/three@0.140.0/examples/js/controls/OrbitControls.js"></script>
    <script>
        // OrbitControls가 로드되었는지 확인
        console.log('OrbitControls loaded:', typeof THREE !== 'undefined' && typeof THREE.OrbitControls !== 'undefined');
    </script>

    <!-- 애플리케이션 스크립트 -->
    <script src="src/scripts/core/Utils.js"></script>
    <script src="src/scripts/core/Physics.js"></script>
    <script src="src/scripts/entities/IronParticle.js"></script>
    <script src="src/scripts/entities/Magnet.js"></script>
    <script src="src/scripts/core/Scene.js"></script>
    <script src="src/scripts/ui/Controls.js"></script>
    <script src="src/scripts/main.js"></script>
</body>
</html>